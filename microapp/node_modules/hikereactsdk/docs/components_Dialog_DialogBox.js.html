<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/Dialog/DialogBox.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/Dialog/DialogBox.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { Component } from 'react'
import { View, StyleSheet, Modal, Text, Image, ActivityIndicator, FlatList } from 'react-native'
import ThemeText from '../../appthemes/components/ThemeText';
import Spinner from 'react-native-loading-spinner-overlay';
import AppTheme from '../../appthemes/AppTheme';
import  Radio  from './Radio'
import CustomTouch from '../CustomTouch';
/**
* Dialog Box accepts one of the three props (renderWithPng, renderWithList, renderWithLoader) true at a time.
* renderWithPng recieves  {visible, heading, subheading, buttontext, onPress } as props,
* renderWithLoader recieves {visible, subheading} as props and
* renderWithList recieves {visible, heading, subheading, text, negbtntext, posbtntext, onNegativePress, onPositivePress, multiSelect, _data } as props.
* @property renderWithPng
* 		boolean for showing the nointernet dialogBox with nointernet image
* @property renderWithList
*		boolean for showing dialogbox consisting header,text,subtext, list with radio button and two buttons
* @property renderWithLoader
*		booleand for showing dialogbox consisting loader and simpleText
* @property  visible
*		boolean for showing dialog
* @property heading
* 		string to show heading on the Dialog
* @property subheading
*		string to show text with fontSize 16
* @property buttontext
* 		string to show text button with accent color
* @property onPress
*		callback on press of text button
* @property text
* 		string to show some additional text with fontSize 14
* @property negbtntext
*		string to show text button with secondary color
* @property posbtntext
*		string to show text button with accent color
* @property onNegativePress
* 		callback on press of text button with secondary color
* @property onPositivePress
* 		callback on press of text button with accent color
* @property _data
* 		array of variables used to show list with radio button
* @property multiSelect
* 		boolean for selecting multiple items from list, if not initialized or false then we can select one item at a time only
*/

class DialogBox extends Component {
	constructor(props) {
		super(props);
		this.state = {
			dataSource: [],
			selectedRow: -1,
		};
	}
	componentWillReceiveProps(nextProp) {
		if (nextProp.rowData) {
			this.setState({
				selectedRow: nextProp.rowData.id
			});
		}
	}
	componentWillMount() {
		const { _data } = this.props;
		if (_data) {
			this.data = [];
			for (var i = 0; i &lt; _data.length; i++) {
				this.data.push({ id: i, value: _data[i], isSelected: false })

			}
			this.setState({
				dataSource: this.data
			});
		}
	}
	renderWithPng() {
		return (
			&lt;Modal style={styles.modal}
				animationType={"fade"}
				transparent={true}
				visible={this.props.visible}
				onRequestClose={() => { }}>
				&lt;View style={styles.noInternetContainer}>
					&lt;View style={styles.noInternet}>
						&lt;Image source={require('../../images/img_def_empty_nointernet.png')} resizeMode={'cover'} style={{ width: 168, height: 128 }}>&lt;/Image>
						&lt;View style={styles.noInternetText}>
							{this.props.heading &amp;&amp;
								&lt;ThemeText
									style={{ textAlign: 'center' }}
									fontProfile='FontProfile02'
									text={this.props.heading}
									textColorStateProfile='ColorStateProfile03'
									/>
							}
							{this.props.subheading &amp;&amp; &lt;ThemeText
								style={{ textAlign: 'center', marginTop: 4, marginBottom: 16, }}
								fontProfile='FontProfile19'
								text={this.props.subheading}
								textColorStateProfile='ColorStateProfile06' />
						}
					&lt;/View>

					&lt;ThemeText
						style={[styles.noInternetButton, { padding: 8 }]}
						text={this.props.buttontext}
						fontProfile='FontProfile07'
						textColorStateProfile='ColorStateProfile02'
						onPress={() => {
							this.props.onPress()
						}} />
					&lt;/View>
				&lt;/View>
			&lt;/Modal>

		);


	}
	renderWithLoader() {
		var tintColor = AppTheme.getColorPalette().accentColor;
		return (
			&lt;Modal style={styles.modal}
				animationType={"fade"}
				transparent={true}
				visible={this.props.visible}
				onRequestClose={() => { }}>
				&lt;View style={styles.noInternetContainer}>
					&lt;View style={[styles.noInternetwithloader]}>
						&lt;View style={{ flexDirection: 'row', paddingHorizontal: 18 }}>
							&lt;View style={{ alignSelf: 'center' }}>&lt;ActivityIndicator size="large" color={tintColor} />&lt;/View>
							{this.props.subheading &amp;&amp; &lt;ThemeText
								style={{ justifyContent: 'flex-end', marginLeft: 16 }}
								fontProfile='FontProfile19'
								text={this.props.subheading}
								textColorStateProfile='ColorStateProfile06'
								/>
						}
					&lt;/View>
				&lt;/View>
			&lt;/View>
		&lt;/Modal>
	);
}
renderWithList() {
	return (
		&lt;Modal style={styles.modal}
			animationType={"fade"}
			transparent={true}
			visible={this.props.visible}
			onRequestClose={() => { }}>
			&lt;View style={styles.noInternetContainer}>
				&lt;View style={[styles.noInternetwithlist]}>
					&lt;View>
						{(this.props.heading) &amp;&amp;
							&lt;ThemeText
								style={{ textAlign: 'left' }}
								fontProfile='FontProfile02'
								text={this.props.heading}
								textColorStateProfile='ColorStateProfile03'
								/>
						}
						{(this.props.subheading) &amp;&amp;
							&lt;ThemeText
								style={{ textAlign: 'left', marginTop: 16 }}
								fontProfile='FontProfile05'
								text={this.props.subheading}
								textColorStateProfile='ColorStateProfile06' />
						}
						{(this.props.text) &amp;&amp;
							&lt;ThemeText
								style={{ textAlign: 'left', marginTop: 16, }}
								fontProfile='FontProfile19'
								text={this.props.text}
								textColorStateProfile='ColorStateProfile06' />
						}
						{(this.props._data) &amp;&amp;
							&lt;FlatList
								style={{ paddingTop: 16 }}
								data={this.state.dataSource}
								renderItem={this._renderRow.bind(this)}
								keyExtractor={(item, index) => index}
								/>
						}
						{(this.props.negbtntext || this.props.posbtntext) &amp;&amp;
							&lt;View style={{ flexDirection: 'row', justifyContent: 'flex-end', paddingTop: 28 }}>
								&lt;ThemeText
									style={[styles.noInternetButton, { padding: 8 }]}
									text={this.props.negbtntext}
									fontProfile='FontProfile07'
									textColorStateProfile='ColorStateProfile06'
									onPress={() => {
										this.props.onNegativePress()
									}} />
									&lt;ThemeText
										style={[styles.noInternetButton, { padding: 8, marginLeft: 20 }]}
										text={this.props.posbtntext}
										fontProfile='FontProfile07'
										textColorStateProfile='ColorStateProfile02'
										onPress={() => {
											this.props.onPositivePress()
										}} />
									&lt;/View>
								}
							&lt;/View>
						&lt;/View>
					&lt;/View>
				&lt;/Modal>
			);
		}


		callstate(rowID) {
			var newArray = Array.from(this.state.dataSource);
			//BridgeUtils.logMessage('  newArrya '  + JSON.stringify(newArray));
			if (this.props.multiSelect) {
				newArray[rowID].isSelected = !newArray[rowID].isSelected;

			} else {
				for (var i = 0; i &lt; newArray.length; i++) {
					if (i == rowID) {
						newArray[rowID].isSelected = !newArray[rowID].isSelected;
					} else {
						newArray[i].isSelected = false;
					}
				}

			}

			this.setState({
				dataSource: newArray
			});

		}

		_renderRow(rowData) {
			return (
				&lt;CustomTouch onPress={() => { this.callstate.bind(this)(rowData.item.id) }} key={rowData.item.id}>
					&lt;View style={{ flexDirection: 'row', paddingVertical: 8 }} >
						&lt;Radio
							style={{ justifyContent: 'center', alignItems: 'center' }}
							selectionColor={{ backgroundColor: AppTheme.getColorPalette().accentColor }}
							selected={rowData.item.isSelected}
							onPress={() => {
								this.callstate.bind(this)(rowData.item.id);
							}}
							/>
						&lt;ThemeText
							style={{ textAlign: 'left', alignSelf: 'center' }}
							fontProfile='FontProfile05'
							text={rowData.item.value}
							textColorStateProfile='ColorStateProfile03'
							/>

					&lt;/View>
				&lt;/CustomTouch>
			);

		}


		render() {

			return (
				&lt;View>
					{this.props.renderWithList &amp;&amp; this.renderWithList()}
					{this.props.renderWithPng &amp;&amp; this.renderWithPng()}
					{this.props.renderWithLoader &amp;&amp; this.renderWithLoader()}
				&lt;/View>

			);

		}
	}

	const styles = StyleSheet.create({
		noInternetContainer: {
			flex: 1,
			justifyContent: 'center',
			alignItems: 'center',
			backgroundColor: 'rgba(0,0,0,0.50)',
		},
		modal: {
			zIndex: 9999,
		},
		noInternet: {
			width: 320,
			backgroundColor: '#FFF',
			borderRadius: 6,
			paddingVertical: 20,
			paddingHorizontal: 36,
			justifyContent: 'center',
			alignItems: 'center'
		},
		noInternetText: {
			marginTop: 25,
		},

		noInternetButton: {

			justifyContent: 'center',
			alignItems: 'center'
		},
		noInternetwithloader: {
			width: 280,
			backgroundColor: '#FFF',
			borderRadius: 6,
			paddingVertical: 20,
			paddingHorizontal: 18,
			justifyContent: 'center',
			alignItems: 'center'

		},
		noInternetwithlist: {
			width: 280,
			backgroundColor: '#FFF',
			borderRadius: 6,
			paddingVertical: 20,
			paddingLeft: 24,
			paddingRight: 16

		}


	})

	export default DialogBox;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AppTheme.html">AppTheme</a></li><li><a href="AppThemeWrapper.html">AppThemeWrapper</a></li><li><a href="Avatar.html">Avatar</a></li><li><a href="ButtonStyles.html">ButtonStyles</a></li><li><a href="ColorUtils.html">ColorUtils</a></li><li><a href="ContactHeader.html">ContactHeader</a></li><li><a href="ContactsContainer.html">ContactsContainer</a></li><li><a href="CustomTouch.html">CustomTouch</a></li><li><a href="DialogBox.html">DialogBox</a></li><li><a href="FullScreenError.html">FullScreenError</a></li><li><a href="HalfScreenError.html">HalfScreenError</a></li><li><a href="HikeAppState.html">HikeAppState</a></li><li><a href="HikeCdm.html">HikeCdm</a></li><li><a href="HikeChatCard.html">HikeChatCard</a></li><li><a href="HikeSharing.html">HikeSharing</a></li><li><a href="HikeStorage.html">HikeStorage</a></li><li><a href="HikeUtils.html">HikeUtils</a></li><li><a href="IconStyles.html">IconStyles</a></li><li><a href="List.html">List</a></li><li><a href="Logger.html">Logger</a></li><li><a href="module.html#.exports">exports</a></li><li><a href="NativeToJsThemeDataConvertor.html">NativeToJsThemeDataConvertor</a></li><li><a href="NoInternetTip.html">NoInternetTip</a></li><li><a href="Radio.html">Radio</a></li><li><a href="SendButton.html">SendButton</a></li><li><a href="StatusBarUtils.html">StatusBarUtils</a></li><li><a href="TextColorStateStyles.html">TextColorStateStyles</a></li><li><a href="ThemeIcon.html">ThemeIcon</a></li><li><a href="ThemeText.html">ThemeText</a></li></ul><h3>Global</h3><ul><li><a href="global.html#logException">logException</a></li><li><a href="global.html#setExceptionMetadata">setExceptionMetadata</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Jan 29 2018 19:59:48 GMT+0530 (IST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
